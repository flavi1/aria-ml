{
    "manifest_version": 3,
    "name": "AriaML Engine",
    "version": "1.4",
    "description": "Standard AriaML",
    "permissions": [
        "declarativeNetRequest",
        "scripting",
        "webNavigation",
        "storage"
    ],
    "host_permissions": [
        "<all_urls>"
    ],
    "background": {
        "service_worker": "background.js",
        "scripts": ["background.js"]
    },
    "content_scripts": [
        {
            "matches": ["<all_urls>"],
            "js": [
                "lib/Consent/StorageWrapper.js",
                "lib/Consent/SecurityObserver.js",
                "lib/Consent/Arbitrator.js",
                "lib/Consent/ConsentBridge.js",

                "lib/Model.js"
            ],
            "run_at": "document_start",
            "all_frames": true,
            "match_about_blank": true
        }
    ],
    "declarative_net_request": {
        "rule_resources": [{
            "id": "ruleset_1",
            "enabled": true,
            "path": "rules.json"
        }]
    },
	"web_accessible_resources": [
		{
			"resources": [
				"lib/bhv/init.bhv",
				"lib/css/init.css",
				"lib/Consent/iframe/consent-manager.html"
			],
			"matches": ["<all_urls>"],
			"ariaml_ressources": {
				"js": [
					"lib/ISOLATED/Bridge.WEBEXT.js",
					"lib/ProxyFactory.WEBEXT.js",
					
					"lib/RootNode.js",
					
					"lib/ISOLATED/PageProperties.js",
					"lib/PageProperties.js",
					
					"lib/ISOLATED/ThemeManager.js",
					"lib/ISOLATED/AppearanceManager.js",
					
					"lib/ISOLATED/Form.js",
					"lib/ISOLATED/Navigation.js",
					
					"lib/ISOLATED/BehaviorManager/GlobalSheetParser.js",
					"lib/ISOLATED/BehaviorManager/behaviorCore.js",
					"lib/ISOLATED/BehaviorManager/behaviorActions.js",
					"lib/ISOLATED/BehaviorManager/behaviorKeyboard.js",
					"lib/ISOLATED/BehaviorManager/behaviorResolvers.js"
				],
				"css": ["lib/css/init.css"],
				"bhv": ["lib/bhv/init.bhv"]
			}
		}
	]
}
